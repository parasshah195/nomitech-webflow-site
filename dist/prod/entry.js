"use strict";(()=>{var s="scriptsLoaded";var i="IS_DEBUG_MODE";window.IS_DEBUG_MODE=p();window.DEBUG=function(...o){window.IS_DEBUG_MODE&&console.log(...o)};window.setDebugMode=o=>{localStorage.setItem(i,o.toString())};function p(){let o=localStorage.getItem(i);return!!(o&&o==="true")}var u=window.IS_DEBUG_MODE?"enabled":"disabled";console.log(`Debug mode is ${u}`);window.IS_DEBUG_MODE||console.log("To enable debug mode and show debug logs, run `window.setDebugMode(true)` in the console");var c="jsEnv",r={dev:"Development",prod:"Production"};window.SCRIPTS_ENV=m();window.setScriptsENV=o=>{if(o!=="dev"&&o!=="prod"){console.error("Invalid environment. Pass `dev` or `prod`");return}localStorage.setItem(c,o),window.SCRIPTS_ENV=o,console.log(`Environment successfully set to ${r[o]}`)};function m(){return localStorage.getItem(c)||"prod"}function l(o){console.log(o==="prod"?'To switch to dev mode and serve files from localhost, run `window.setScriptsENV("dev")` in the console':'To switch to production mode and serve files from CDN, either run `window.setScriptsENV("prod")` in the console or turn off localhost dev server')}var S="http://localhost:3000/",I="https://cdn.jsdelivr.net/gh/parasshah195/nomitech-webflow-site/dist/prod/";window.JS_SCRIPTS=new Set;var d=[];window.addEventListener("DOMContentLoaded",T);function T(){console.log(`Current mode: ${r[window.SCRIPTS_ENV]}`),l(window.SCRIPTS_ENV),window.SCRIPTS_ENV==="dev"?h():E()}function E(){var t;let o=window.SCRIPTS_ENV==="dev"?S:I;(t=window.JS_SCRIPTS)==null||t.forEach(n=>{let e=document.createElement("script");e.src=o+n,e.defer=!0;let a=new Promise((w,_)=>{e.onload=w,e.onerror=()=>{console.error(`Failed to load script: ${n}`)}});d.push(a),document.body.appendChild(e)}),Promise.allSettled(d).then(()=>{window.DEBUG("All Custom JS scripts are loaded"),window.dispatchEvent(new CustomEvent(s))})}function h(){let t=new AbortController,n=setTimeout(()=>{t.abort()},300);fetch(S,{signal:t.signal}).then(e=>{if(!e.ok)throw console.error({response:e}),new Error("localhost response not ok")}).catch(()=>{console.error("localhost not resolved. Switching to production"),window.setScriptsENV("prod")}).finally(()=>{clearTimeout(n),E()})}})();
